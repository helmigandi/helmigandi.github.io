<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>OpenSSH Tutorial | helmigandi</title><meta name=keywords content="Linux"><meta name=description content="I. Installation OpenSSH Install on Ubuntu client:
sudo apt install openssh-client Install OpenSSH on server in VirtualBox:
sudo apt install openssh-server II. Inspect OpenSSH Basic checking command OpenSSH:
sudo systemctl start ssh sudo systemctl stop ssh sudo systemctl restart ssh sudo systemctl status ssh Install Netstat:
sudo apt install net-tools Run command below for showing all port connection:
sudo netstat -tulpn Sample result OpenSSH listening to port 22:
Proto Recv-Q Send-Q Local Address Foreign Address State PID/Program name tcp 0 0 0."><meta name=author content><link rel=canonical href=https://helmigandi.github.io/posts/2021/openssh-tutorial/><link crossorigin=anonymous href=/assets/css/stylesheet.min.3b597070b9b5f7e1d1b0d4ffd3e9454d5068cc0aca66d2f4b1455dbc78ddbc0a.css integrity="sha256-O1lwcLm19+HRsNT/0+lFTVBozArKZtL0sUVdvHjdvAo=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js integrity="sha256-uVus3DnjejMqn4g7Hni+Srwf3KK8HyZB9V4809q9TWE=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://helmigandi.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://helmigandi.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://helmigandi.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://helmigandi.github.io/apple-touch-icon.png><link rel=mask-icon href=https://helmigandi.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.102.0"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="OpenSSH Tutorial"><meta property="og:description" content="I. Installation OpenSSH Install on Ubuntu client:
sudo apt install openssh-client Install OpenSSH on server in VirtualBox:
sudo apt install openssh-server II. Inspect OpenSSH Basic checking command OpenSSH:
sudo systemctl start ssh sudo systemctl stop ssh sudo systemctl restart ssh sudo systemctl status ssh Install Netstat:
sudo apt install net-tools Run command below for showing all port connection:
sudo netstat -tulpn Sample result OpenSSH listening to port 22:
Proto Recv-Q Send-Q Local Address Foreign Address State PID/Program name tcp 0 0 0."><meta property="og:type" content="article"><meta property="og:url" content="https://helmigandi.github.io/posts/2021/openssh-tutorial/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-12-03T15:15:25+07:00"><meta property="article:modified_time" content="2021-12-03T15:15:25+07:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="OpenSSH Tutorial"><meta name=twitter:description content="I. Installation OpenSSH Install on Ubuntu client:
sudo apt install openssh-client Install OpenSSH on server in VirtualBox:
sudo apt install openssh-server II. Inspect OpenSSH Basic checking command OpenSSH:
sudo systemctl start ssh sudo systemctl stop ssh sudo systemctl restart ssh sudo systemctl status ssh Install Netstat:
sudo apt install net-tools Run command below for showing all port connection:
sudo netstat -tulpn Sample result OpenSSH listening to port 22:
Proto Recv-Q Send-Q Local Address Foreign Address State PID/Program name tcp 0 0 0."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://helmigandi.github.io/posts/"},{"@type":"ListItem","position":2,"name":"OpenSSH Tutorial","item":"https://helmigandi.github.io/posts/2021/openssh-tutorial/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"OpenSSH Tutorial","name":"OpenSSH Tutorial","description":"I. Installation OpenSSH Install on Ubuntu client:\nsudo apt install openssh-client Install OpenSSH on server in VirtualBox:\nsudo apt install openssh-server II. Inspect OpenSSH Basic checking command OpenSSH:\nsudo systemctl start ssh sudo systemctl stop ssh sudo systemctl restart ssh sudo systemctl status ssh Install Netstat:\nsudo apt install net-tools Run command below for showing all port connection:\nsudo netstat -tulpn Sample result OpenSSH listening to port 22:\nProto Recv-Q Send-Q Local Address Foreign Address State PID/Program name tcp 0 0 0.","keywords":["Linux"],"articleBody":"I. Installation OpenSSH Install on Ubuntu client:\nsudo apt install openssh-client Install OpenSSH on server in VirtualBox:\nsudo apt install openssh-server II. Inspect OpenSSH Basic checking command OpenSSH:\nsudo systemctl start ssh sudo systemctl stop ssh sudo systemctl restart ssh sudo systemctl status ssh Install Netstat:\nsudo apt install net-tools Run command below for showing all port connection:\nsudo netstat -tulpn Sample result OpenSSH listening to port 22:\nProto Recv-Q Send-Q Local Address Foreign Address State PID/Program name tcp 0 0 0.0.0.0:22 0.0.0.0:* LISTEN 901/sshd tcp6 0 0 :::22 :::* LISTEN 901/sshd Showing OpenSSH running in background service:\nsudo systemctl status sshd Sample result:\n● sshd.service - OpenSSH server daemon Loaded: loaded (/usr/lib/systemd/system/sshd.service; enabled; vendor preset: enabled) Active: active (running) since Sat 2020-10-17 12:19:22 EDT; 12min ago Docs: man:sshd(8) man:sshd_config(5) Main PID: 901 (cups-browsed) Tasks: 1 (limit: 5029) Memory: 388.0K CGroup: /system.slice/sshd.service └─901 /usr/sbin/sshd -D Okt 17 12:19:22 centos-server1 systemd[1]: Starting OpenSSH server daemon.. Okt 17 12:19:22 centos-server1 sshd[901]: Server Listening on 0.0.0.0 port 22 Okt 17 12:19:22 centos-server1 sshd[901]: Server Listening on :: port 22 Okt 17 12:19:22 centos-server1 systemd[1]: Started OpenSSH server daemon.. III. Running a Connection Using OpenSSH Showing Computer Server IP address:\nip a Sample result:\n... 2: enp0s3: mtu 1500 qdisc fq_codel state UP group default qlen 1000 link/ether 08:00:27:bb:05:6f brd ff:ff:ff:ff:ff:ff inet 192.168.100.43/24 brd 192.168.100.255 scope global dynamic noprefixroute enp0s3 valid_lft 86381sec preferred_lft 86381sec inet6 fe80::cbbb:ec2:218b:2b99/64 scope link noprefixroute valid_lft forever preferred_lft forever ... Connecting with command below in Computer Client:\nssh user@ipaddress Sample result:\nssh person1@192.168.100.43 person1@192.168.100.43's password: Activate the web console with: systemctl enable --now cockpit.socket Last login: Sun Oct 18 01:46:31 2020 [person1@centos-server1 ~]$ Notes:\nuser is username that has been created on the server (usually at the time of linux installation we have created one user). ipaddress is Computer IP address server. So far, we have been able to log into the server. We can check it by creating a file with touch testfile and see on the server whether the file exists or not. We can also use hostname to log in with SSH command if it is set. If we want to connect and see debug information if at some point we can’t connect with SSH to the server by:\nssh -v ipaddress Sample result:\n... debug1: Authentications that can continue: publickey,gssapi-keyex,gssapi-with-mic,password debug1: Trying private key: /home/helmiz/.ssh/id_dsa debug1: Trying private key: /home/helmiz/.ssh/id_ecdsa debug1: Trying private key: /home/helmiz/.ssh/id_ecdsa_sk debug1: Trying private key: /home/helmiz/.ssh/id_ed25519 debug1: Trying private key: /home/helmiz/.ssh/id_ed25519_sk debug1: Trying private key: /home/helmiz/.ssh/id_xmss debug1: Next authentication method: password ... Notes:\nIt can be seen that the server is accessed by checking publickey first to password. We can connect with a different port if the Computer Server port is changed (default 22) by:\nssh ipaddress -p portNumber IV. Simple Configuration The place to save the client configuration is in the .ssh directory. The directory is created when the Computer Client connects to the Computer Server.\nls -la Sample result:\ndrwx------ 2 helmiz helmiz 4096 Okt 17 12:53 .ssh Notes:\nInside the directory there will be a known_host file which is used to store the fingerprint of the machine we are connecting to. So that if we connect to the same server machine we are not asked to Confirm the Fingerprint again. The Computer Server configuration is located in the /etc/ssh/sshd_config directory::\nsudo nano /etc/ssh/sshd_config Notes:\nPort: Changing the port number can increase the security of automatic BOTS from the Internet. PermitRootLogin: Root login access make no so that other people cannot log in as Root. The exception is if we access to a VPS or Cloud Server that provides Root Login. PasswordAuthentication: Use a password to enter the server which we will change to no later. So access can only use public key authentication. AllowUsers: Users who can only access the server. Example AllowUsers azam21 rahmah93 nindi11 means only those three people can access the server. AllowGroups: It’s easier than AllowUsers because we write by user group. Example AllowGroups sshusers admin. Don’t forget to restart SSH after configuring:\nsudo systemctl restart sshd V. Detecting SSH Problems if Computer Client cannot connect to the Computer Server so we can use the command below:\nssh -v user@ipaddress The method above does not provide detailed information. Alternatively we can check logs on the server by:\n# Ubuntu cat /var/log/auth.log # follow realtime tail -f /var/log/auth.log # Redhat cat /var/log/secure # follow realtime tail -f /var/log/secure VI. Public Key Authentication We can create a Public key that is used as an authentication method. We can generete key with:\nssh-keygen Notes:\nPassphrase: Encrypt key in Local Machine. There are two files in the .ssh directory namely id_rsa is the private key that must be hidden and id_rsa.pub is the public key to be broadcast to Other Machines. We can give our public key to the server to establish a relationship between the server and client by:\nssh-copy-id -i ~/.ssh/id_rsa.pub user@ipaddress Notes:\nBy making a public key link, we no longer need to write down passwords repeatedly. If we want to generate a new key to the Computer Server, then we have to delete the old key in the authorized_keys file on the Computer Server. The file contains all the public keys stored on the server:\nnano .ssh/authorized_keys We can not allow users to enter the server using authentication with a password thereby increasing security:\n# File sudo nano /etc/ssh/sshd_config # Baris PasswordAuthentication no VII. Secure Copy Protocol (SCP) Used to send files using SSH. Here are some required configurations:\nSend from Computer Client file nameFile to Computer Server in dir directory:\nscp nameFile ipaddress:/home/dir -P 22 Sample result:\n$ scp wallpaper.jpg person1@192.168.100.44:/home/person1/ person1@192.168.100.44's password: wallpaper.jpg 100% 2251KB 22.0MB/s 00:00 Transfer directory with recursive:\nscp -r dirName ipaddress: Sample result:\n$ scp -r mydir person1@192.168.100.44: person1@192.168.100.44's password: wallpaper.jpg 100% 2251KB 19.7MB/s 00:00 Notes:\nIf you don’t type a path, the default path is the user home directory Take the file that is on Computer Server (pull):\nscp -r ipaddress:dir . Sample result:\n$ scp -r person1@192.168.100.44:mydir . person1@192.168.100.44's password: wallpaper.jpg 100% 2251KB 34.6MB/s 00:00 Note:\n.: A copy to the path where we are. VIII. SSH File System (SSHFS) Installation:\nsudo apt install sshfs Next, create a local directory that will be attached to the server directory and do mount by:\nsshfs ipaddress:/server_directory client_directory/ Example:\nsshfs person1@192.168.100.44:/home/person1/mydir-server mydir-client/ We can check the contents of the server directory every two seconds with the command:\nwatch ls dirName/ You can disconnect with this command:\nfusermount -u /home/dirName IX. Improve OpenSSH Security on Cloud Instances In this tutorial we will use Ubuntu Server.\n1. Disable Root Login Log in to Cloud Instance. Create two tabs for access if there is an error we have another Session tab.\nssh root@ipAddress Create new User in the Cloud Instance.\nadduser userName # Add sudo to userName in Ubuntu usermod -aG sudo userName Disable Root Login:\nsudo nano /etc/ssh/sshd_config # Change to PermitRootLogin no # Restart SSH sudo systemctl restart ssh 2. Disable Password Authentication Create Public key and Private key in Local Computer:\nssh-keygen # Insert the Passphrase Copy public key to Cloud Instance:\nssh-copy-id -i ~/.ssh/id_rsa.pub userName@ipAddress Turn of the Password Authentication:\nsudo nano /etc/ssh/sshd_config # Change to PasswordAuthentication no Restart SSH\nsudo systemctl restart ssh 3. Change SSH Port Log in to Cloud Instance and change Port number:\nsudo nano /etc/ssh/sshd_config # Change default Port here Port 22 Log in to Cloud Instance with:\nssh -p portNumber userName@ipAddress # if we use SCP scp -P portNumber Restart SSH\nsudo systemctl restart ssh 4. Restrict User Log in to Cloud Instance and add code below:\nsudo nano /etc/ssh/sshd_config # Add only user AllowUsers userName Restart SSH\nsudo systemctl restart ssh 5. Restrict IP If our IP does not change (static) depending on the provider, it is highly recommended to limit the IP that goes to the server with SSH.\n6. Troubleshooting To see problems that occur in SSH, you can check the logs on the server with:\nsudo cat /var/log/auth.log # display interactively, # we can make the delimiter by pressing enter as much as possible tail -f /var/log/auth.log Bibliography LaCroix, Jeremy. 2019. Getting started with OpenSSH. (accessed on October, 19 2020). ","wordCount":"1362","inLanguage":"en","datePublished":"2021-12-03T15:15:25+07:00","dateModified":"2021-12-03T15:15:25+07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://helmigandi.github.io/posts/2021/openssh-tutorial/"},"publisher":{"@type":"Organization","name":"helmigandi","logo":{"@type":"ImageObject","url":"https://helmigandi.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://helmigandi.github.io/ accesskey=h title="helmigandi (Alt + H)">helmigandi</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://helmigandi.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://helmigandi.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://helmigandi.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://helmigandi.github.io/archives/ title=Archives><span>Archives</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>OpenSSH Tutorial</h1><div class=post-meta><span title='2021-12-03 15:15:25 +0700 WIB'>December 3, 2021</span></div></header><div class=post-content><h3 id=i-installation-openssh>I. Installation OpenSSH<a hidden class=anchor aria-hidden=true href=#i-installation-openssh>#</a></h3><ul><li><p>Install on Ubuntu client:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt install openssh-client
</span></span></code></pre></div></li><li><p>Install OpenSSH on server in VirtualBox:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt install openssh-server
</span></span></code></pre></div></li></ul><h3 id=ii-inspect-openssh>II. Inspect OpenSSH<a hidden class=anchor aria-hidden=true href=#ii-inspect-openssh>#</a></h3><ul><li><p>Basic checking command OpenSSH:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl start ssh
</span></span><span style=display:flex><span>sudo systemctl stop ssh
</span></span><span style=display:flex><span>sudo systemctl restart ssh
</span></span><span style=display:flex><span>sudo systemctl status ssh
</span></span></code></pre></div></li><li><p>Install Netstat:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt install net-tools
</span></span></code></pre></div></li><li><p>Run command below for showing all port connection:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo netstat -tulpn
</span></span></code></pre></div><p>Sample result OpenSSH listening to port 22:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
</span></span><span style=display:flex><span>tcp     <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span>    0.0.0.0:22              0.0.0.0:*               LISTEN      901/sshd
</span></span><span style=display:flex><span>tcp6    <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>0</span>    :::22                   :::*                    LISTEN      901/sshd
</span></span></code></pre></div></li><li><p>Showing OpenSSH running in background service:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl status sshd
</span></span></code></pre></div><p>Sample result:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>● sshd.service - OpenSSH server daemon
</span></span><span style=display:flex><span>    Loaded: loaded <span style=color:#f92672>(</span>/usr/lib/systemd/system/sshd.service; enabled; vendor preset: enabled<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    Active: active <span style=color:#f92672>(</span>running<span style=color:#f92672>)</span> since Sat 2020-10-17 12:19:22 EDT; 12min ago
</span></span><span style=display:flex><span>      Docs: man:sshd<span style=color:#f92672>(</span>8<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>            man:sshd_config<span style=color:#f92672>(</span>5<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  Main PID: <span style=color:#ae81ff>901</span> <span style=color:#f92672>(</span>cups-browsed<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>      Tasks: <span style=color:#ae81ff>1</span> <span style=color:#f92672>(</span>limit: 5029<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    Memory: 388.0K
</span></span><span style=display:flex><span>    CGroup: /system.slice/sshd.service
</span></span><span style=display:flex><span>            └─901 /usr/sbin/sshd -D
</span></span><span style=display:flex><span>Okt <span style=color:#ae81ff>17</span> 12:19:22 centos-server1 systemd<span style=color:#f92672>[</span>1<span style=color:#f92672>]</span>: Starting OpenSSH server daemon..
</span></span><span style=display:flex><span>Okt <span style=color:#ae81ff>17</span> 12:19:22 centos-server1 sshd<span style=color:#f92672>[</span>901<span style=color:#f92672>]</span>: Server Listening on 0.0.0.0 port <span style=color:#ae81ff>22</span>
</span></span><span style=display:flex><span>Okt <span style=color:#ae81ff>17</span> 12:19:22 centos-server1 sshd<span style=color:#f92672>[</span>901<span style=color:#f92672>]</span>: Server Listening on :: port <span style=color:#ae81ff>22</span>
</span></span><span style=display:flex><span>Okt <span style=color:#ae81ff>17</span> 12:19:22 centos-server1 systemd<span style=color:#f92672>[</span>1<span style=color:#f92672>]</span>: Started OpenSSH server daemon..
</span></span></code></pre></div></li></ul><h3 id=iii-running-a-connection-using-openssh>III. Running a Connection Using OpenSSH<a hidden class=anchor aria-hidden=true href=#iii-running-a-connection-using-openssh>#</a></h3><ul><li><p>Showing Computer Server IP address:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ip a
</span></span></code></pre></div><p>Sample result:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>...
</span></span><span style=display:flex><span>2: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span style=color:#ae81ff>1500</span> qdisc fq_codel state UP group default qlen <span style=color:#ae81ff>1000</span>
</span></span><span style=display:flex><span>    link/ether 08:00:27:bb:05:6f brd ff:ff:ff:ff:ff:ff
</span></span><span style=display:flex><span>    inet 192.168.100.43/24 brd 192.168.100.255 scope global dynamic noprefixroute enp0s3
</span></span><span style=display:flex><span>      valid_lft 86381sec preferred_lft 86381sec
</span></span><span style=display:flex><span>    inet6 fe80::cbbb:ec2:218b:2b99/64 scope link noprefixroute 
</span></span><span style=display:flex><span>      valid_lft forever preferred_lft forever
</span></span><span style=display:flex><span>...
</span></span></code></pre></div></li><li><p>Connecting with command below in Computer Client:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh user@ipaddress
</span></span></code></pre></div><p>Sample result:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh person1@192.168.100.43
</span></span><span style=display:flex><span>person1@192.168.100.43<span style=color:#960050;background-color:#1e0010>&#39;</span>s password: 
</span></span><span style=display:flex><span>Activate the web console with: systemctl enable --now cockpit.socket
</span></span><span style=display:flex><span>Last login: Sun Oct <span style=color:#ae81ff>18</span> 01:46:31 <span style=color:#ae81ff>2020</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>person1@centos-server1 ~<span style=color:#f92672>]</span>$
</span></span></code></pre></div><p><em><strong>Notes</strong></em>:</p><ul><li><code>user</code> is username that has been created on the server (usually at the time of linux installation we have created one user).</li><li><code>ipaddress</code> is Computer IP address server.</li><li>So far, we have been able to log into the server. We can check it by creating a file with <code>touch testfile</code> and see on the server whether the file exists or not.</li><li>We can also use <code>hostname</code> to log in with SSH command if it is set.</li></ul></li><li><p>If we want to connect and see <strong>debug</strong> information if at some point we can&rsquo;t connect with SSH to the server by:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh -v ipaddress
</span></span></code></pre></div><p>Sample result:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>...
</span></span><span style=display:flex><span>debug1: Authentications that can <span style=color:#66d9ef>continue</span>: publickey,gssapi-keyex,gssapi-with-mic,password
</span></span><span style=display:flex><span>debug1: Trying private key: /home/helmiz/.ssh/id_dsa
</span></span><span style=display:flex><span>debug1: Trying private key: /home/helmiz/.ssh/id_ecdsa
</span></span><span style=display:flex><span>debug1: Trying private key: /home/helmiz/.ssh/id_ecdsa_sk
</span></span><span style=display:flex><span>debug1: Trying private key: /home/helmiz/.ssh/id_ed25519
</span></span><span style=display:flex><span>debug1: Trying private key: /home/helmiz/.ssh/id_ed25519_sk
</span></span><span style=display:flex><span>debug1: Trying private key: /home/helmiz/.ssh/id_xmss
</span></span><span style=display:flex><span>debug1: Next authentication method: password
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><p><em><strong>Notes</strong></em>:</p><ul><li>It can be seen that the server is accessed by checking <code>publickey</code> first to <code>password</code>.</li></ul></li><li><p>We can connect with a different port if the Computer Server port is changed (default 22) by:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh ipaddress -p portNumber
</span></span></code></pre></div></li></ul><h3 id=iv-simple-configuration>IV. Simple Configuration<a hidden class=anchor aria-hidden=true href=#iv-simple-configuration>#</a></h3><ul><li><p>The place to save the client configuration is in the <code>.ssh</code> directory. The directory is created when the Computer Client connects to the Computer Server.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ls -la
</span></span></code></pre></div><p>Sample result:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>drwx------  <span style=color:#ae81ff>2</span> helmiz helmiz <span style=color:#ae81ff>4096</span> Okt <span style=color:#ae81ff>17</span> 12:53  .ssh
</span></span></code></pre></div><p><em><strong>Notes</strong></em>:</p><ul><li>Inside the directory there will be a <code>known_host</code> file which is used to store the fingerprint of the machine we are connecting to. So that if we connect to the same server machine we are not asked to <em>Confirm the Fingerprint</em> again.</li></ul></li><li><p>The Computer Server configuration is located in the <code>/etc/ssh/sshd_config</code> directory::</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo nano /etc/ssh/sshd_config
</span></span></code></pre></div><p><em><strong>Notes</strong></em>:</p><ul><li><code>Port</code>: Changing the port number can increase the security of automatic BOTS from the Internet.</li><li><code>PermitRootLogin</code>: Root login access make <code>no</code> so that other people cannot log in as Root. The exception is if we access to a VPS or Cloud Server that provides Root Login.</li><li><code>PasswordAuthentication</code>: Use a password to enter the server which we will change to <code>no</code> later. So access can only use <em>public key authentication</em>.</li><li><code>AllowUsers</code>: Users who can only access the server. Example <code>AllowUsers azam21 rahmah93 nindi11</code> means only those three people can access the server.</li><li><code>AllowGroups</code>: It&rsquo;s easier than <code>AllowUsers</code> because we write by user group. Example <code>AllowGroups sshusers admin</code>.</li></ul></li><li><p>Don&rsquo;t forget to restart SSH after configuring:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl restart sshd
</span></span></code></pre></div></li></ul><h3 id=v-detecting-ssh-problems>V. Detecting SSH Problems<a hidden class=anchor aria-hidden=true href=#v-detecting-ssh-problems>#</a></h3><ul><li><p>if Computer Client cannot connect to the Computer Server so we can use the command below:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh -v user@ipaddress
</span></span></code></pre></div></li><li><p>The method above does not provide detailed information. Alternatively we can check <em>logs</em> on the server by:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Ubuntu</span>
</span></span><span style=display:flex><span>cat /var/log/auth.log
</span></span><span style=display:flex><span><span style=color:#75715e># follow realtime</span>
</span></span><span style=display:flex><span>tail -f /var/log/auth.log
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Redhat</span>
</span></span><span style=display:flex><span>cat /var/log/secure
</span></span><span style=display:flex><span><span style=color:#75715e># follow realtime</span>
</span></span><span style=display:flex><span>tail -f /var/log/secure
</span></span></code></pre></div></li></ul><h3 id=vi-public-key-authentication>VI. Public Key Authentication<a hidden class=anchor aria-hidden=true href=#vi-public-key-authentication>#</a></h3><ul><li><p>We can create a Public key that is used as an authentication method. We can <em>generete key</em> with:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh-keygen
</span></span></code></pre></div><p><em><strong>Notes</strong></em>:</p><ul><li><code>Passphrase</code>: Encrypt key in Local Machine.</li><li>There are two files in the <code>.ssh</code> directory namely <code>id_rsa</code> is the private key that must be hidden and <code>id_rsa.pub</code> is the public key to be <em>broadcast</em> to Other Machines.</li></ul></li><li><p>We can give our public key to the server to establish a <em>relationship</em> between the server and client by:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh-copy-id -i ~/.ssh/id_rsa.pub user@ipaddress
</span></span></code></pre></div><p><em><strong>Notes</strong></em>:</p><ul><li>By making a <em>public key</em> link, we no longer need to write down passwords repeatedly.</li></ul></li><li><p>If we want to generate a new key to the Computer Server, then we have to delete the old key in the <code>authorized_keys</code> file on the Computer Server. The file contains all the <em>public keys</em> stored on the server:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>nano .ssh/authorized_keys
</span></span></code></pre></div></li><li><p>We can not allow users to enter the server using authentication with a password thereby increasing security:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># File</span>
</span></span><span style=display:flex><span>sudo nano /etc/ssh/sshd_config
</span></span><span style=display:flex><span><span style=color:#75715e># Baris</span>
</span></span><span style=display:flex><span>PasswordAuthentication no
</span></span></code></pre></div></li></ul><h3 id=vii-secure-copy-protocol-scp>VII. Secure Copy Protocol (SCP)<a hidden class=anchor aria-hidden=true href=#vii-secure-copy-protocol-scp>#</a></h3><p>Used to send files using SSH. Here are some required configurations:</p><ul><li><p>Send from Computer Client file <code>nameFile</code> to Computer Server in <code>dir</code> directory:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>scp nameFile ipaddress:/home/dir -P <span style=color:#ae81ff>22</span>
</span></span></code></pre></div><p>Sample result:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ scp wallpaper.jpg person1@192.168.100.44:/home/person1/
</span></span><span style=display:flex><span>  person1@192.168.100.44<span style=color:#960050;background-color:#1e0010>&#39;</span>s password: 
</span></span><span style=display:flex><span>  wallpaper.jpg                                           100% 2251KB  22.0MB/s   00:00    
</span></span></code></pre></div></li><li><p>Transfer directory with recursive:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>scp -r dirName ipaddress:
</span></span></code></pre></div><p>Sample result:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ scp -r mydir person1@192.168.100.44:
</span></span><span style=display:flex><span>  person1@192.168.100.44<span style=color:#960050;background-color:#1e0010>&#39;</span>s password: 
</span></span><span style=display:flex><span>  wallpaper.jpg                                           100% 2251KB  19.7MB/s   00:00    
</span></span></code></pre></div><p><em><strong>Notes</strong></em>:</p><ul><li>If you don&rsquo;t type a path, the default path is the user home directory</li></ul></li><li><p>Take the file that is on Computer Server (pull):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>scp -r ipaddress:dir .
</span></span></code></pre></div><p>Sample result:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ scp -r person1@192.168.100.44:mydir .
</span></span><span style=display:flex><span>  person1@192.168.100.44<span style=color:#960050;background-color:#1e0010>&#39;</span>s password: 
</span></span><span style=display:flex><span>  wallpaper.jpg                                           100% 2251KB  34.6MB/s   00:00    
</span></span></code></pre></div><p><em><strong>Note</strong></em>:</p><ul><li><code>.</code>: A copy to the path where we are.</li></ul></li></ul><h3 id=viii-ssh-file-system-sshfs>VIII. SSH File System (SSHFS)<a hidden class=anchor aria-hidden=true href=#viii-ssh-file-system-sshfs>#</a></h3><ul><li><p>Installation:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt install sshfs
</span></span></code></pre></div></li><li><p>Next, create a local directory that will be attached to the server directory and do <em>mount</em> by:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sshfs ipaddress:/server_directory client_directory/
</span></span></code></pre></div><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sshfs person1@192.168.100.44:/home/person1/mydir-server mydir-client/
</span></span></code></pre></div></li><li><p>We can check the contents of the server directory every two seconds with the command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>watch ls dirName/
</span></span></code></pre></div></li><li><p>You can disconnect with this command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>fusermount -u /home/dirName
</span></span></code></pre></div></li></ul><h3 id=ix-improve-openssh-security-on-cloud-instances>IX. Improve OpenSSH Security on Cloud Instances<a hidden class=anchor aria-hidden=true href=#ix-improve-openssh-security-on-cloud-instances>#</a></h3><p>In this tutorial we will use Ubuntu Server.</p><h4 id=1-disable-root-login>1. Disable Root Login<a hidden class=anchor aria-hidden=true href=#1-disable-root-login>#</a></h4><ul><li><p>Log in to Cloud Instance. Create two tabs for access if there is an error we have another Session tab.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh root@ipAddress
</span></span></code></pre></div></li><li><p>Create new User in the Cloud Instance.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>adduser userName
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Add sudo to userName in Ubuntu </span>
</span></span><span style=display:flex><span>usermod -aG sudo userName
</span></span></code></pre></div></li><li><p>Disable Root Login:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo nano /etc/ssh/sshd_config
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Change to</span>
</span></span><span style=display:flex><span>PermitRootLogin no
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Restart SSH</span>
</span></span><span style=display:flex><span>sudo systemctl restart ssh
</span></span></code></pre></div></li></ul><h4 id=2-disable-password-authentication>2. Disable Password Authentication<a hidden class=anchor aria-hidden=true href=#2-disable-password-authentication>#</a></h4><ul><li><p>Create Public key and Private key in Local Computer:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh-keygen
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Insert the Passphrase</span>
</span></span></code></pre></div></li><li><p>Copy public key to Cloud Instance:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh-copy-id -i ~/.ssh/id_rsa.pub userName@ipAddress
</span></span></code></pre></div></li><li><p>Turn of the Password Authentication:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo nano /etc/ssh/sshd_config
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Change to</span>
</span></span><span style=display:flex><span>PasswordAuthentication no
</span></span></code></pre></div></li><li><p>Restart SSH</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl restart ssh
</span></span></code></pre></div></li></ul><h4 id=3-change-ssh-port>3. Change SSH Port<a hidden class=anchor aria-hidden=true href=#3-change-ssh-port>#</a></h4><ul><li><p>Log in to Cloud Instance and change Port number:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo nano /etc/ssh/sshd_config
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Change default Port here</span>
</span></span><span style=display:flex><span>Port <span style=color:#ae81ff>22</span>
</span></span></code></pre></div></li><li><p>Log in to Cloud Instance with:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh -p portNumber userName@ipAddress
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># if we use SCP</span>
</span></span><span style=display:flex><span>scp -P portNumber
</span></span></code></pre></div></li><li><p>Restart SSH</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl restart ssh
</span></span></code></pre></div></li></ul><h4 id=4-restrict-user>4. Restrict User<a hidden class=anchor aria-hidden=true href=#4-restrict-user>#</a></h4><ul><li><p>Log in to Cloud Instance and add code below:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo nano /etc/ssh/sshd_config
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Add only user</span>
</span></span><span style=display:flex><span>AllowUsers userName
</span></span></code></pre></div></li><li><p>Restart SSH</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl restart ssh
</span></span></code></pre></div></li></ul><h4 id=5-restrict-ip>5. Restrict IP<a hidden class=anchor aria-hidden=true href=#5-restrict-ip>#</a></h4><p>If our IP does not change (static) depending on the provider, it is highly recommended to limit the IP that goes to the server with SSH.</p><h4 id=6-troubleshooting>6. Troubleshooting<a hidden class=anchor aria-hidden=true href=#6-troubleshooting>#</a></h4><p>To see problems that occur in SSH, you can check the logs on the server with:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo cat /var/log/auth.log
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># display interactively,</span>
</span></span><span style=display:flex><span><span style=color:#75715e># we can make the delimiter by pressing enter as much as possible</span>
</span></span><span style=display:flex><span>tail -f /var/log/auth.log
</span></span></code></pre></div><h3 id=bibliography>Bibliography<a hidden class=anchor aria-hidden=true href=#bibliography>#</a></h3><ul><li>LaCroix, Jeremy. 2019. <a href="https://www.youtube.com/playlist?list=PLT98CRl2KxKHtOhMYulS43hayRsGXLzmx">Getting started with OpenSSH</a>. (accessed on October, 19 2020).</li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://helmigandi.github.io/tags/linux/>Linux</a></li></ul></footer><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//helmigandi.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article></main><footer class=footer><span>&copy; 2022 <a href=https://helmigandi.github.io/>helmigandi</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>